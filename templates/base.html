<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <title>{% block title %}英単語テストPDF{% endblock %}</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --brand:#2a7de1;          /* メインの水色 */
      --brand-600:#1f6dcb;      /* ホバー用に少し濃い */
      --ink:#111827;            /* 文字色 */
      --muted:#6b7280;          /* 補助テキスト */
      --bg:#f3f8ff;             /* ページの淡い水色背景 */
      --card:#ffffff;           /* カード/ヘッダーの白 */
      --line:#e5effd;           /* うっすら罫線 */
      --focus: 0 0 0 3px rgba(42,125,225,.25);
      --radius: 12px;
      --shadow: 0 6px 20px rgba(42,125,225,.08);
    }

    /* ベース */
    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      background:var(--bg);
      color:var(--ink);
      font-family: "Noto Sans JP", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      line-height:1.6;
    }

    /* 見出し */
    h1, h2, h3{
      margin:0 0 .6em;
      line-height:1.3;
      letter-spacing:.01em;
    }
    h1{ font-weight:700; font-size: clamp(22px, 3vw, 28px); }
    h2{ font-weight:700; font-size: clamp(18px, 2.4vw, 22px); }
    h3{ font-weight:600; font-size: clamp(16px, 2vw, 18px); color:#1f2937; }

    /* ヘッダー（クラス名を .appbar 系に変更） */
    header.appbar{
      position:sticky; top:0; z-index:10;
      background:var(--card);
      border-bottom:1px solid var(--line);
      box-shadow: 0 2px 10px rgba(0,0,0,.02);
    }
    .appbar-inner{
      max-width: 960px;
      margin: 0 auto;
      padding: 14px 20px;
      display:flex; align-items:center; gap:18px;
    }
    .brand{
      font-weight:700; letter-spacing:.02em;
      color:var(--brand); text-decoration:none;
      font-size:18px;
    }
    .space{ flex:1; }
    /* ここも .topnav に変更 */
    .topnav a{
      color:var(--ink); text-decoration:none;
      padding:8px 10px; border-radius:8px;
      font-weight:600;
    }
    .topnav a:hover{ background:#eef5ff; }
    .topnav .active{ color:var(--brand); }

    /* レイアウト */
    main.container{
      max-width:960px;
      margin:24px auto;
      padding: 0 20px;
    }

    /* 共通UI */
    .card{
      background:var(--card);
      border:1px solid var(--line);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      padding:20px;
    }

    .btn{
      display:inline-block;
      padding:10px 14px;
      border-radius:10px;
      border:1px solid transparent;
      font-weight:700;
      text-decoration:none;
      cursor:pointer;
      transition: transform .02s ease-in-out, background .2s, border-color .2s, box-shadow .2s;
    }
    .btn:active{ transform: translateY(1px); }
    .btn:focus{ outline:none; box-shadow: var(--focus); }

    .btn-primary{
      background:var(--brand);
      color:#fff;
      border-color:var(--brand);
    }
    .btn-primary:hover{ background:var(--brand-600); border-color:var(--brand-600); }

    .btn-outline{
      background:#fff; color:var(--brand);
      border-color:var(--brand);
    }
    .btn-outline:hover{ background:#eef5ff; }

    /* ラベル＆ヘルプ */
    .label{
      display:flex; align-items:baseline; gap:10px;
      margin:14px 0 6px;
    }
    .label-title{
      font-weight:700;
      font-size:14px;
      color:#0f172a;
    }
    .badge-req{
      display:inline-block;
      background:#eaf3ff;
      color:#185bb3;
      border:1px solid #cfe3ff;
      font-size:12px; line-height:1;
      padding:4px 6px; border-radius:999px;
      font-weight:700;
    }
    .label-desc{
      font-size:12px;
      color:var(--muted);
      margin-left:auto;
    }

    /* フォーム */
    input, select, button, textarea{ font: inherit; }
    .input, select, textarea{
      width:100%;
      padding:10px 12px;
      border:1px solid var(--line);
      border-radius:10px;
      background:#fff;
      transition: box-shadow .2s, border-color .2s, background .2s;
    }
    .input::placeholder, textarea::placeholder{ color:#9aa8c0; }
    .input:focus, select:focus, textarea:focus{
      outline:none; box-shadow: var(--focus); border-color:var(--brand);
      background:#ffffff;
    }
    .form-grid{
      display:grid; gap:14px;
      grid-template-columns: 1fr;
    }
    @media (min-width:720px){
      .form-grid.cols-2{ grid-template-columns: 1fr 1fr; }
      .form-grid.cols-3{ grid-template-columns: 1fr 1fr 1fr; }
    }

    /* テーブル */
    .table{
      width:100%;
      border-collapse: collapse;
      border-radius:12px;
      overflow:hidden;
      border:1px solid var(--line);
      background:#fff;
    }
    .table th, .table td{
      padding:10px 12px;
      border-bottom:1px solid var(--line);
    }
    .table th{
      background:#f7fbff;
      text-align:left;
      color:var(--muted);
      font-weight:700;
      letter-spacing:.01em;
    }
    .table tr:last-child td{ border-bottom:none; }

    /* フラッシュメッセージ */
    .flash{
      background:#e9f3ff;
      border:1px solid #cfe3ff;
      color:#0b3e86;
      padding:10px 14px;
      margin:14px 0;
      border-radius:10px;
    }

    /* セクション余白 */
    .stack{ display:grid; gap:18px; }
  </style>
</head>
<body>

<header class="appbar">
  <div class="appbar-inner">
    <a class="brand" href="{{ url_for('index') }}">英単語テストPDF</a>
    <div class="space"></div>
    <nav class="topnav">
      <a href="{{ url_for('index') }}">トップ</a>
      <a href="{{ url_for('upload') }}">アップロード</a>
      <a href="{{ url_for('make') }}">問題作成</a>
      <a href="{{ url_for('download') }}">ダウンロード</a>
    </nav>
  </div>
</header>

<main class="container">
  {% with messages = get_flashed_messages() %}
    {% if messages %}
      {% for m in messages %}
        <div class="flash">{{ m }}</div>
      {% endfor %}
    {% endif %}
  {% endwith %}

  <div class="stack">
    {% block content %}{% endblock %}
  </div>
</main>

</body>
</html>
