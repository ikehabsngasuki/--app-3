{% extends "base.html" %}
{% block title %}アップロード | 英単語テストPDF{% endblock %}
{% block content %}

<!-- アップロードカード -->
<div class="card" style="display:grid; gap:14px;">
  <h2>Excel（.xlsx）アップロード</h2>
  <p class="label-desc">1行目に <strong>number / word / meaning</strong> のヘッダーが必要です。最大 16MB。</p>

  <form action="{{ url_for('upload') }}" method="post" enctype="multipart/form-data" class="stack">
    <div class="field">
      <label for="file">ファイルを選択</label>
      <input id="file" class="input" type="file" name="file" accept=".xlsx" required />
    </div>
    <div>
      <button type="submit" class="btn btn-primary">アップロード</button>
      <a class="btn btn-outline" href="{{ url_for('make') }}" style="margin-left:6px;">問題を作成へ</a>
    </div>
  </form>
</div>

<!-- 一覧カード -->
<div class="card" style="display:grid; gap:12px;">
  <h3>アップロード済みファイル</h3>

  {% if files %}
    <table class="table">
      <thead>
        <tr>
          <th>ファイル名</th>
        </tr>
      </thead>
      <tbody>
        {% for f in files %}
          <tr>
            <td style="white-space:normal; word-break:break-word; overflow-wrap:anywhere;">{{ f }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p class="label-desc">まだファイルがありません。上のフォームからアップロードしてください。</p>
  {% endif %}
</div>

{% endblock %}
