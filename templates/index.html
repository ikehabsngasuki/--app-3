{% extends "base.html" %}
{% block title %}トップ | 英単語テストPDF{% endblock %}
{% block content %}

<div class="card">
  <h1>英単語テストPDFジェネレーター</h1>
  <p style="margin:.4em 0 0; color:var(--muted);">
    Excelをアップロード → 出題範囲と件数を指定 → 問題/解答PDFを作成できます。
  </p>
</div>

<div class="card" style="display:grid; gap:16px;">
  <h2>はじめかた</h2>
  <ol style="margin:0; padding-left:1.1rem; color:#334155;">
    <li style="margin:.4em 0;">Excel（.xlsx）をアップロード</li>
    <li style="margin:.4em 0;">出題範囲と件数を入力して問題を作成</li>
    <li style="margin:.4em 0;">問題PDF / 解答PDFをダウンロード</li>
  </ol>

  <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:6px;">
    <a class="btn btn-primary" href="{{ url_for('upload') }}">① アップロード</a>
    <a class="btn btn-outline" href="{{ url_for('make') }}">② 問題を作成</a>
    <a class="btn btn-outline" href="{{ url_for('download') }}">③ ダウンロード</a>
  </div>
</div>

<!-- 一覧カード -->
<div class="card" style="display:grid; gap:12px;">
  <h3>アップロード済みの単語リスト</h3>

  {% if files %}
    <table class="table">
      <thead>
        <tr>
          <th>ファイル名</th>
        </tr>
      </thead>
      <tbody>
        {% for f in files %}
          <tr>
            <td style="white-space:normal; word-break:break-word; overflow-wrap:anywhere;">{{ f }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p class="label-desc">まだファイルがありません。上のフォームからアップロードしてください。</p>
  {% endif %}
</div>

{% endblock %}
